<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Arkanoid</title>
		<script src="js/game.js"></script>
		<style type="text/css">
			canvas {
				padding-left: 0;
		    padding-right: 0;
		    margin-left: auto;
		    margin-right: auto;
		    display: block;
		    box-shadow: 0px 0px 30px #cccccc;
			}
		</style>
	</head>

	<body>
		<canvas id="game", height="670", width="800"> </canvas>
		<script type="text/javascript">
			function doKeyDown(e) {
				switch (e.keyCode) {
				case 37 :
					game.onKeyLeft();
					break;
				case 39 :
					game.onKeyRight();
					break;
				case 32 :
					if (game.space_active){
						game.init();
					}
					break;
				}
			}
			function getMousePos(canvas, evt) {
        var rect = canvas.getBoundingClientRect();
        return {
          x: evt.clientX - rect.left,
          y: evt.clientY - rect.top
        };
      }

			var canvas = document.getElementById("game");
			var ctx = canvas.getContext("2d");
			var game = new Game(ctx);

			window.addEventListener( "keydown", doKeyDown, true)
			canvas.addEventListener('mousemove', function(evt) {
				game.mouseMove(getMousePos(canvas, evt).x);
			}, false);

			//game.drawRect(0,0,this.context_width,this.context_height,'#B70B13');
			
			ctx.beginPath();
			ctx.strokeStyle = "#FFFFFF";
      ctx.fillStyle = '#B70B13';
      ctx.lineWidth = 1;   
			ctx.moveTo(0,0);
	    ctx.lineTo(0,ctx.canvas.height);
	    ctx.lineTo(ctx.canvas.width,ctx.canvas.height);
	    ctx.lineTo(ctx.canvas.width,0);
	    ctx.closePath();
      ctx.fill();
      ctx.stroke();

			ctx.font = "bold 30px Verdana";
			ctx.textAlign = 'center';
			ctx.fillStyle = "white";
			ctx.fillText("Press spacebar to play", ctx.canvas.width/2, ctx.canvas.height/2);

			//setInterval("game.update()",10)
		</script>
	</body>
</html>